<!DOCTYPE html>
<html>
    <head>
    <meta charset=UTF-8"> 
        <title> HTML 기본 구조 </title>
        <style>
            * {padding:0;margin:0;}
            html, body {
                margin: 0;
                height: 100%;
                overflow: hidden;
            }
        </style>
    </head>
    <body style="height:100%">
        <div style="width:100%;height:100%">
            <div style="width:80%;height: 100%;border:1px solid black"><canvas id="myCanvas" width="100%" height="100%" style="border:1px solid black;"></canvas></div>
            <div style="width:20%;height: 100%;"></div>
        </div>
        
    </body>
    <script>
        let myCanvas = document.getElementById("myCanvas");
        let ctx = myCanvas.getContext("2d");
        let clickCoords = [];


        myCanvas.onclick = function(event) {
            ctx.clearRect(0,0,1024,768);
            let xValue = event.clientX - ctx.canvas.offsetLeft; 
            let yValue = event.clientY - ctx.canvas.offsetTop;
            

            let coord = {
                x : xValue,
                y : yValue,
            }
            clickCoords.push(coord);

            ctx.fillStyle = 'black';
            clickCoords.forEach(point => {
                ctx.fillRect(point.x-2, point.y-2, 4, 4);
            });

            if (clickCoords.length >= 2) {
                ctx.beginPath();
                clickCoords.forEach((point,index) => {
                    if(index == 0) {
                        ctx.moveTo(point.x, point.y);
                    } else {
                        ctx.lineTo(point.x, point.y);
                    }
                    ctx.stroke();
                });

 
                ctx.fillStyle = '#0000ff32';
                ctx.fill();

            }

            // 
            // 
        }
    </script>
</html>